/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package wicadi.beta;

import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileWriter;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.HashMap;
import java.util.LinkedList;
import java.util.Map;
import java.util.Random;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.*;
import javax.swing.filechooser.FileNameExtensionFilter;
import javax.swing.filechooser.FileSystemView;
/**
 *
 * @author Kalana Hettiarachchi
 */
public class WiCaDiBeta extends javax.swing.JFrame {

    StringBuffer s;
    Random r;
    sc4 sc;
    double zx = 0;
    JFrame gw;
    JFrame gw2;
    JTextArea ta;
    grafer grf;
    private int xp = 5; //default decimal points
    Map<String, String> formulaMap = new HashMap<>();

    /**
     * Creates new form WiCaDiMain
     */
    public WiCaDiBeta() {
        sc = new sc4();
        r = new Random();
        s = new StringBuffer();

        gw = new JFrame("Graph");
        gw2 = new JFrame();
        gw.setBounds(100, 100, 500, 500);
        gw2.setBounds(100, 100, 500, 500);
        ta = new JTextArea();
        JScrollPane pp = new JScrollPane();
        pp.setViewportView(ta);
        gw2.getContentPane().add(pp);
        grf = new grafer();
        gw.setContentPane(grf);
        
        
        initComponents();
    }
    
    private static double round(double d, int k) {

        if (Double.isInfinite(d)) {
            return d;
        }

        double h1 = d % 1;
        double h2 = (Math.round(h1 * Math.pow(10, k))) / Math.pow(10, k);
        double h3 = d - h1;
        double d1 = h3 + h2;

        return d1;

    }
    
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        DIFFERENTIATION = new javax.swing.JButton();
        DEFINITEINTEGRATION = new javax.swing.JButton();
        INDEFINITEINTEGRATION = new javax.swing.JButton();
        valueofx = new javax.swing.JButton();
        graph = new javax.swing.JButton();
        pixelperinch = new javax.swing.JButton();
        center = new javax.swing.JButton();
        gridstatus = new javax.swing.JCheckBox();
        loadformula = new javax.swing.JButton();
        saveformula = new javax.swing.JButton();
        btn1 = new javax.swing.JButton();
        answer = new javax.swing.JButton();
        btn6 = new javax.swing.JButton();
        jSeparator1 = new javax.swing.JSeparator();
        plus = new javax.swing.JButton();
        jSeparator2 = new javax.swing.JSeparator();
        btn2 = new javax.swing.JButton();
        jSeparator3 = new javax.swing.JSeparator();
        btn7 = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        jLabel3 = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        history = new javax.swing.JTextArea();
        clearhistory = new javax.swing.JButton();
        minus = new javax.swing.JButton();
        btn9 = new javax.swing.JButton();
        divide = new javax.swing.JButton();
        btn3 = new javax.swing.JButton();
        btn8 = new javax.swing.JButton();
        display1 = new javax.swing.JTextField();
        display2 = new javax.swing.JTextField();
        save = new javax.swing.JButton();
        load = new javax.swing.JButton();
        del = new javax.swing.JButton();
        clr = new javax.swing.JButton();
        step = new javax.swing.JButton();
        jButton6 = new javax.swing.JButton();
        jPanel3 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        multiply = new javax.swing.JButton();
        btn4 = new javax.swing.JButton();
        btn0 = new javax.swing.JButton();
        dot = new javax.swing.JButton();
        agraph = new javax.swing.JButton();
        btn5 = new javax.swing.JButton();
        sin = new javax.swing.JButton();
        cos = new javax.swing.JButton();
        tan = new javax.swing.JButton();
        abs = new javax.swing.JButton();
        rem = new javax.swing.JButton();
        openbracket = new javax.swing.JButton();
        ars = new javax.swing.JButton();
        arc = new javax.swing.JButton();
        art = new javax.swing.JButton();
        sig = new javax.swing.JButton();
        closebracket = new javax.swing.JButton();
        varx = new javax.swing.JButton();
        pi = new javax.swing.JButton();
        power = new javax.swing.JButton();
        ln = new javax.swing.JButton();
        sqrt = new javax.swing.JButton();
        exp = new javax.swing.JButton();
        log = new javax.swing.JButton();
        roots = new javax.swing.JButton();
        vary = new javax.swing.JButton();
        varz = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        jPanel1.setBackground(new java.awt.Color(0, 51, 51));

        DIFFERENTIATION.setBackground(new java.awt.Color(0, 102, 102));
        DIFFERENTIATION.setForeground(new java.awt.Color(255, 255, 255));
        DIFFERENTIATION.setText("DIFFERENTIATION");
        DIFFERENTIATION.setPreferredSize(null);
        DIFFERENTIATION.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                DIFFERENTIATIONActionPerformed(evt);
            }
        });

        DEFINITEINTEGRATION.setBackground(new java.awt.Color(0, 102, 102));
        DEFINITEINTEGRATION.setForeground(new java.awt.Color(255, 255, 255));
        DEFINITEINTEGRATION.setText("DEFINITE INTEGRATION");
        DEFINITEINTEGRATION.setPreferredSize(null);
        DEFINITEINTEGRATION.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                DEFINITEINTEGRATIONActionPerformed(evt);
            }
        });

        INDEFINITEINTEGRATION.setBackground(new java.awt.Color(0, 102, 102));
        INDEFINITEINTEGRATION.setForeground(new java.awt.Color(255, 255, 255));
        INDEFINITEINTEGRATION.setText("INDEFINITE INTEGRATION");
        INDEFINITEINTEGRATION.setPreferredSize(null);

        valueofx.setBackground(new java.awt.Color(0, 102, 102));
        valueofx.setForeground(new java.awt.Color(255, 255, 255));
        valueofx.setText("VALUE OF X");
        valueofx.setPreferredSize(null);
        valueofx.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                valueofxActionPerformed(evt);
            }
        });

        graph.setBackground(new java.awt.Color(102, 102, 0));
        graph.setForeground(new java.awt.Color(255, 255, 255));
        graph.setText("<html><center>BASIC<br> GRAPH</center></html>");
        graph.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                graphActionPerformed(evt);
            }
        });

        pixelperinch.setBackground(new java.awt.Color(102, 102, 0));
        pixelperinch.setForeground(new java.awt.Color(255, 255, 255));
        pixelperinch.setText("PIX");
        pixelperinch.setToolTipText("Click to define how many pixels per unit");
        pixelperinch.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                pixelperinchActionPerformed(evt);
            }
        });

        center.setBackground(new java.awt.Color(102, 102, 0));
        center.setForeground(new java.awt.Color(255, 255, 255));
        center.setText("CENTER");
        center.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                centerActionPerformed(evt);
            }
        });

        gridstatus.setBackground(new java.awt.Color(102, 102, 0));
        gridstatus.setForeground(new java.awt.Color(255, 255, 255));
        gridstatus.setText("GRID");
        gridstatus.setToolTipText("Check to show grid under the graph");
        gridstatus.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                gridstatusActionPerformed(evt);
            }
        });

        loadformula.setBackground(new java.awt.Color(255, 255, 153));
        loadformula.setText("LOAD FORMULA FILE");
        loadformula.setToolTipText("Click to load formula from a file");
        loadformula.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                loadformulaActionPerformed(evt);
            }
        });

        saveformula.setBackground(new java.awt.Color(255, 255, 153));
        saveformula.setText("SAVE FORMULA FILE");
        saveformula.setToolTipText("Click to save formula to a file");
        saveformula.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveformulaActionPerformed(evt);
            }
        });

        btn1.setBackground(new java.awt.Color(204, 255, 153));
        btn1.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        btn1.setForeground(new java.awt.Color(0, 0, 0));
        btn1.setText("1");
        btn1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn1ActionPerformed(evt);
            }
        });

        answer.setBackground(new java.awt.Color(0, 153, 0));
        answer.setForeground(new java.awt.Color(255, 255, 255));
        answer.setText("ANS");
        answer.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                answerActionPerformed(evt);
            }
        });

        btn6.setBackground(new java.awt.Color(204, 255, 153));
        btn6.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        btn6.setForeground(new java.awt.Color(0, 0, 0));
        btn6.setText("6");
        btn6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn6ActionPerformed(evt);
            }
        });

        plus.setBackground(new java.awt.Color(204, 255, 153));
        plus.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        plus.setForeground(new java.awt.Color(0, 0, 0));
        plus.setText("+");
        plus.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                plusActionPerformed(evt);
            }
        });

        btn2.setBackground(new java.awt.Color(204, 255, 153));
        btn2.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        btn2.setForeground(new java.awt.Color(0, 0, 0));
        btn2.setText("2");
        btn2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn2ActionPerformed(evt);
            }
        });

        btn7.setBackground(new java.awt.Color(204, 255, 153));
        btn7.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        btn7.setForeground(new java.awt.Color(0, 0, 0));
        btn7.setText("7");
        btn7.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn7ActionPerformed(evt);
            }
        });

        jPanel2.setBackground(new java.awt.Color(102, 102, 102));

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(255, 255, 255));
        jLabel3.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        jLabel3.setText("History");

        history.setColumns(20);
        history.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        history.setRows(5);
        jScrollPane1.setViewportView(history);

        clearhistory.setBackground(new java.awt.Color(255, 0, 0));
        clearhistory.setForeground(new java.awt.Color(255, 255, 255));
        clearhistory.setText("CLEAR HISTORY");
        clearhistory.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clearhistoryActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 298, Short.MAX_VALUE)
                    .addComponent(clearhistory, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(14, 14, 14))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(16, 16, 16)
                .addComponent(jLabel3)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1)
                .addGap(18, 18, 18)
                .addComponent(clearhistory)
                .addGap(62, 62, 62))
        );

        minus.setBackground(new java.awt.Color(204, 255, 153));
        minus.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        minus.setForeground(new java.awt.Color(0, 0, 0));
        minus.setText("-");
        minus.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                minusActionPerformed(evt);
            }
        });

        btn9.setBackground(new java.awt.Color(204, 255, 153));
        btn9.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        btn9.setForeground(new java.awt.Color(0, 0, 0));
        btn9.setText("9");
        btn9.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn9ActionPerformed(evt);
            }
        });

        divide.setBackground(new java.awt.Color(204, 255, 153));
        divide.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        divide.setForeground(new java.awt.Color(0, 0, 0));
        divide.setText("/");
        divide.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                divideActionPerformed(evt);
            }
        });

        btn3.setBackground(new java.awt.Color(204, 255, 153));
        btn3.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        btn3.setForeground(new java.awt.Color(0, 0, 0));
        btn3.setText("3");
        btn3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn3ActionPerformed(evt);
            }
        });

        btn8.setBackground(new java.awt.Color(204, 255, 153));
        btn8.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        btn8.setForeground(new java.awt.Color(0, 0, 0));
        btn8.setText("8");
        btn8.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn8ActionPerformed(evt);
            }
        });

        display1.setBackground(new java.awt.Color(102, 204, 0));
        display1.setFont(new java.awt.Font("Ubuntu", 1, 36)); // NOI18N
        display1.setForeground(new java.awt.Color(255, 255, 255));
        display1.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        display2.setBackground(new java.awt.Color(51, 153, 0));
        display2.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        display2.setForeground(new java.awt.Color(255, 255, 255));
        display2.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        save.setBackground(new java.awt.Color(51, 153, 255));
        save.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        save.setForeground(new java.awt.Color(255, 255, 255));
        save.setText("SAVE");
        save.setToolTipText("Save to clipboard");
        save.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                saveActionPerformed(evt);
            }
        });

        load.setBackground(new java.awt.Color(51, 153, 255));
        load.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        load.setForeground(new java.awt.Color(255, 255, 255));
        load.setText("LOAD");
        load.setToolTipText("Load from clipboard");
        load.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                loadActionPerformed(evt);
            }
        });

        del.setBackground(new java.awt.Color(255, 0, 0));
        del.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        del.setForeground(new java.awt.Color(255, 255, 255));
        del.setText("DEL");
        del.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                delActionPerformed(evt);
            }
        });

        clr.setBackground(new java.awt.Color(255, 153, 0));
        clr.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        clr.setForeground(new java.awt.Color(255, 255, 255));
        clr.setText("CLR");
        clr.setToolTipText("Clear screen");
        clr.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                clrActionPerformed(evt);
            }
        });

        step.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        step.setText("STEP");
        step.setToolTipText("Round number to x points");
        step.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                stepActionPerformed(evt);
            }
        });

        jButton6.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        jButton6.setText("TST");

        jPanel3.setBackground(new java.awt.Color(0, 102, 102));

        jLabel1.setBackground(new java.awt.Color(204, 204, 204));
        jLabel1.setFont(new java.awt.Font("Eras Medium ITC", 3, 36)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(204, 204, 204));
        jLabel1.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel1.setText("WiCaDi ");

        jLabel2.setBackground(new java.awt.Color(204, 204, 204));
        jLabel2.setFont(new java.awt.Font("Eras Medium ITC", 1, 14)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(204, 204, 204));
        jLabel2.setText("By Semicolon;");

        jButton1.setText("ABOUT US");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGap(39, 39, 39)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jButton1)
                            .addComponent(jLabel2)))
                    .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 146, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel2)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jButton1)
                .addContainerGap(17, Short.MAX_VALUE))
        );

        multiply.setBackground(new java.awt.Color(204, 255, 153));
        multiply.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        multiply.setForeground(new java.awt.Color(0, 0, 0));
        multiply.setText("*");
        multiply.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                multiplyActionPerformed(evt);
            }
        });

        btn4.setBackground(new java.awt.Color(204, 255, 153));
        btn4.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        btn4.setForeground(new java.awt.Color(0, 0, 0));
        btn4.setText("4");
        btn4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn4ActionPerformed(evt);
            }
        });

        btn0.setBackground(new java.awt.Color(204, 255, 153));
        btn0.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        btn0.setForeground(new java.awt.Color(0, 0, 0));
        btn0.setText("0");
        btn0.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn0ActionPerformed(evt);
            }
        });

        dot.setBackground(new java.awt.Color(204, 255, 153));
        dot.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        dot.setForeground(new java.awt.Color(0, 0, 0));
        dot.setText(".");
        dot.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                dotActionPerformed(evt);
            }
        });

        agraph.setText("<html><center>ADVANCED<br>GRAPHING</center>\n\n\n</html>");
        agraph.setToolTipText("Quadratic, Rational, Exponential, Logarithemic, Sinusodial");
        agraph.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                agraphActionPerformed(evt);
            }
        });

        btn5.setBackground(new java.awt.Color(204, 255, 153));
        btn5.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        btn5.setForeground(new java.awt.Color(0, 0, 0));
        btn5.setText("5");
        btn5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btn5ActionPerformed(evt);
            }
        });

        sin.setBackground(new java.awt.Color(51, 0, 51));
        sin.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        sin.setForeground(new java.awt.Color(255, 255, 255));
        sin.setText("sin");
        sin.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sinActionPerformed(evt);
            }
        });

        cos.setBackground(new java.awt.Color(51, 0, 51));
        cos.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        cos.setForeground(new java.awt.Color(255, 255, 255));
        cos.setText("cos");
        cos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cosActionPerformed(evt);
            }
        });

        tan.setBackground(new java.awt.Color(51, 0, 51));
        tan.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        tan.setForeground(new java.awt.Color(255, 255, 255));
        tan.setText("tan");
        tan.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                tanActionPerformed(evt);
            }
        });

        abs.setBackground(new java.awt.Color(51, 0, 51));
        abs.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        abs.setForeground(new java.awt.Color(255, 255, 255));
        abs.setText("abs");
        abs.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                absActionPerformed(evt);
            }
        });

        rem.setBackground(new java.awt.Color(51, 0, 51));
        rem.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        rem.setForeground(new java.awt.Color(255, 255, 255));
        rem.setText("rem");
        rem.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                remActionPerformed(evt);
            }
        });

        openbracket.setBackground(new java.awt.Color(51, 0, 51));
        openbracket.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        openbracket.setForeground(new java.awt.Color(255, 255, 255));
        openbracket.setText("(");
        openbracket.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                openbracketActionPerformed(evt);
            }
        });

        ars.setBackground(new java.awt.Color(51, 0, 51));
        ars.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        ars.setForeground(new java.awt.Color(255, 255, 255));
        ars.setText("ars");
        ars.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                arsActionPerformed(evt);
            }
        });

        arc.setBackground(new java.awt.Color(51, 0, 51));
        arc.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        arc.setForeground(new java.awt.Color(255, 255, 255));
        arc.setText("arc");
        arc.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                arcActionPerformed(evt);
            }
        });

        art.setBackground(new java.awt.Color(51, 0, 51));
        art.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        art.setForeground(new java.awt.Color(255, 255, 255));
        art.setText("art");
        art.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                artActionPerformed(evt);
            }
        });

        sig.setBackground(new java.awt.Color(51, 0, 51));
        sig.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        sig.setForeground(new java.awt.Color(255, 255, 255));
        sig.setText("sig");
        sig.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sigActionPerformed(evt);
            }
        });

        closebracket.setBackground(new java.awt.Color(51, 0, 51));
        closebracket.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        closebracket.setForeground(new java.awt.Color(255, 255, 255));
        closebracket.setText(")");
        closebracket.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                closebracketActionPerformed(evt);
            }
        });

        varx.setBackground(new java.awt.Color(51, 0, 51));
        varx.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        varx.setForeground(new java.awt.Color(255, 255, 255));
        varx.setText("X");
        varx.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                varxActionPerformed(evt);
            }
        });

        pi.setBackground(new java.awt.Color(51, 0, 51));
        pi.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        pi.setForeground(new java.awt.Color(255, 255, 255));
        pi.setText("π");
        pi.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                piActionPerformed(evt);
            }
        });

        power.setBackground(new java.awt.Color(51, 0, 51));
        power.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        power.setForeground(new java.awt.Color(255, 255, 255));
        power.setText("^");
        power.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                powerActionPerformed(evt);
            }
        });

        ln.setBackground(new java.awt.Color(51, 0, 51));
        ln.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        ln.setForeground(new java.awt.Color(255, 255, 255));
        ln.setText("ln");
        ln.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                lnActionPerformed(evt);
            }
        });

        sqrt.setBackground(new java.awt.Color(51, 0, 51));
        sqrt.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        sqrt.setForeground(new java.awt.Color(255, 255, 255));
        sqrt.setText("√");
        sqrt.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                sqrtActionPerformed(evt);
            }
        });

        exp.setBackground(new java.awt.Color(51, 0, 51));
        exp.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        exp.setForeground(new java.awt.Color(255, 255, 255));
        exp.setText("exp");
        exp.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                expActionPerformed(evt);
            }
        });

        log.setBackground(new java.awt.Color(51, 0, 51));
        log.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        log.setForeground(new java.awt.Color(255, 255, 255));
        log.setText("log");
        log.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                logActionPerformed(evt);
            }
        });

        roots.setBackground(new java.awt.Color(0, 102, 102));
        roots.setForeground(new java.awt.Color(255, 255, 255));
        roots.setText("ROOTS");
        roots.setPreferredSize(null);
        roots.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                rootsActionPerformed(evt);
            }
        });

        vary.setBackground(new java.awt.Color(51, 0, 51));
        vary.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        vary.setForeground(new java.awt.Color(255, 255, 255));
        vary.setText("Y");
        vary.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                varyActionPerformed(evt);
            }
        });

        varz.setBackground(new java.awt.Color(51, 0, 51));
        varz.setFont(new java.awt.Font("Dialog", 1, 13)); // NOI18N
        varz.setForeground(new java.awt.Color(255, 255, 255));
        varz.setText("Z");
        varz.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                varzActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(22, 22, 22)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGap(6, 6, 6)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(btn1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(btn6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(plus, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(btn2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(btn7, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(minus, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(btn3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(btn8, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(multiply, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(btn4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(btn9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(divide, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(btn5, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(btn0, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(dot, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                .addGap(18, 18, 18)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(pixelperinch, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(gridstatus, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(graph, javax.swing.GroupLayout.PREFERRED_SIZE, 92, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(center, javax.swing.GroupLayout.PREFERRED_SIZE, 92, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(50, 50, 50))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 513, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel1Layout.createSequentialGroup()
                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                            .addComponent(sin, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(cos, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(tan, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(abs, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(rem, javax.swing.GroupLayout.Alignment.LEADING)
                                            .addComponent(varx, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addGroup(jPanel1Layout.createSequentialGroup()
                                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                                    .addComponent(openbracket, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                    .addComponent(ars, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                    .addComponent(arc, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                    .addComponent(art, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                    .addComponent(sig, javax.swing.GroupLayout.Alignment.LEADING))
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                    .addComponent(closebracket, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                    .addComponent(pi, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                    .addComponent(power, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                    .addComponent(ln, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                    .addComponent(exp, javax.swing.GroupLayout.DEFAULT_SIZE, 57, Short.MAX_VALUE))
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                    .addGroup(jPanel1Layout.createSequentialGroup()
                                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                            .addComponent(sqrt, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                                            .addComponent(answer))
                                                        .addGap(37, 37, 37)
                                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                            .addComponent(INDEFINITEINTEGRATION, javax.swing.GroupLayout.PREFERRED_SIZE, 228, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                            .addComponent(DEFINITEINTEGRATION, javax.swing.GroupLayout.PREFERRED_SIZE, 228, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                            .addComponent(DIFFERENTIATION, javax.swing.GroupLayout.PREFERRED_SIZE, 228, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                            .addComponent(roots, javax.swing.GroupLayout.PREFERRED_SIZE, 228, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                            .addComponent(valueofx, javax.swing.GroupLayout.PREFERRED_SIZE, 228, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                                    .addComponent(log, javax.swing.GroupLayout.PREFERRED_SIZE, 57, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                            .addGroup(jPanel1Layout.createSequentialGroup()
                                                .addComponent(vary)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(varz))))
                                    .addComponent(jSeparator3, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 519, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jSeparator2, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 513, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addGap(35, 35, 35))))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(28, 28, 28)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addGroup(jPanel1Layout.createSequentialGroup()
                                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(save)
                                        .addComponent(load))
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(del)
                                        .addComponent(clr))
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                        .addComponent(step, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(jButton6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                        .addComponent(saveformula, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                        .addComponent(loadformula, javax.swing.GroupLayout.DEFAULT_SIZE, 150, Short.MAX_VALUE))
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addComponent(agraph, javax.swing.GroupLayout.PREFERRED_SIZE, 139, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGap(6, 6, 6))
                                .addComponent(display1))
                            .addComponent(display2, javax.swing.GroupLayout.PREFERRED_SIZE, 201, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
        );

        jPanel1Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {abs, answer, arc, ars, art, closebracket, cos, exp, ln, log, openbracket, pi, power, rem, sig, sin, sqrt, tan, varx, vary, varz});

        jPanel1Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {DEFINITEINTEGRATION, DIFFERENTIATION, INDEFINITEINTEGRATION, roots, valueofx});

        jPanel1Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {center, graph, gridstatus, pixelperinch});

        jPanel1Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jSeparator1, jSeparator2, jSeparator3});

        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(display1, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(display2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jSeparator1, javax.swing.GroupLayout.DEFAULT_SIZE, 29, Short.MAX_VALUE)
                        .addGap(10, 10, 10)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(save, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(load, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(del, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(clr, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(step, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(loadformula, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(jButton6, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(saveformula, javax.swing.GroupLayout.PREFERRED_SIZE, 41, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addComponent(agraph, javax.swing.GroupLayout.PREFERRED_SIZE, 88, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addComponent(jSeparator2, javax.swing.GroupLayout.DEFAULT_SIZE, 10, Short.MAX_VALUE)
                        .addGap(4, 4, 4)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                                .addComponent(btn6, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(plus, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(pixelperinch, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(graph))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(gridstatus, javax.swing.GroupLayout.PREFERRED_SIZE, 59, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(center, javax.swing.GroupLayout.PREFERRED_SIZE, 57, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addGroup(jPanel1Layout.createSequentialGroup()
                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(btn2, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(btn1, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(btn7, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(minus, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(multiply, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                    .addGroup(jPanel1Layout.createSequentialGroup()
                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addGroup(jPanel1Layout.createSequentialGroup()
                                                .addComponent(btn3, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(btn8, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))
                                            .addGroup(jPanel1Layout.createSequentialGroup()
                                                .addComponent(btn4, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                                .addComponent(btn9, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(divide, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                                            .addComponent(dot, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))))
                                .addGroup(jPanel1Layout.createSequentialGroup()
                                    .addComponent(btn5, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addComponent(btn0, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jSeparator3, javax.swing.GroupLayout.DEFAULT_SIZE, 30, Short.MAX_VALUE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(sin)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(cos)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(tan)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(abs)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(rem)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(vary)
                                    .addComponent(varz)
                                    .addComponent(varx)))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(valueofx, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(roots, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(DIFFERENTIATION, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(DEFINITEINTEGRATION, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(INDEFINITEINTEGRATION, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(closebracket)
                                .addComponent(sqrt))
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(openbracket)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                    .addComponent(ars)
                                    .addComponent(exp)
                                    .addComponent(log))
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(jPanel1Layout.createSequentialGroup()
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(arc)
                                            .addComponent(pi))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(art)
                                            .addComponent(power))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                            .addComponent(sig)
                                            .addComponent(ln)))
                                    .addGroup(jPanel1Layout.createSequentialGroup()
                                        .addGap(6, 6, 6)
                                        .addComponent(answer, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))))
                        .addGap(50, 50, 50))
                    .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
        );

        jPanel1Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {abs, arc, ars, art, closebracket, cos, exp, ln, log, openbracket, pi, power, rem, sig, sin, sqrt, tan, varx, vary, varz});

        jPanel1Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {DEFINITEINTEGRATION, DIFFERENTIATION, INDEFINITEINTEGRATION, roots, valueofx});

        jPanel1Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {center, graph, gridstatus, pixelperinch});

        graph.getAccessibleContext().setAccessibleDescription("");
        pixelperinch.getAccessibleContext().setAccessibleDescription("");
        center.getAccessibleContext().setAccessibleDescription("");
        gridstatus.getAccessibleContext().setAccessibleDescription("");

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void DIFFERENTIATIONActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_DIFFERENTIATIONActionPerformed
        double n;
        String ss = display1.getText();
        try {
            sc.con(ss);
        } catch (Exception exception) {
            this.display2.setText("SYNTEX ERROR");
            return;
        }
        try {
            n = Double.parseDouble(JOptionPane.showInputDialog("Enter Point"));

        } catch (Exception exception) {
            return;
        }

        double h = Math.abs(n * 0.00001);
        if (h == 0) {
            h = 0.00001;
        }
        double d = (sc.con(this.display1.getText(), (n + h)) - sc.con(s.toString(), n)) / h;
        display2.setText("" + round(d, xp) + " ");
    }//GEN-LAST:event_DIFFERENTIATIONActionPerformed

    private void DEFINITEINTEGRATIONActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_DEFINITEINTEGRATIONActionPerformed
        double n1 = 0, n2 = 0, l = 0, y = 0;
        double h = 0, j = 0;
        double d = 0;
        String ss = display1.getText();
        try {
            sc.con(ss);
        } catch (Exception exception) {
            this.display2.setText("SYNTEX ERROR");
            return;
        }
        try {
            n1 = Double.parseDouble(JOptionPane.showInputDialog("Enter Starting limit"));
            n2 = Double.parseDouble(JOptionPane.showInputDialog("Enter Ending limit"));

        } catch (Exception exception) {
            return;
        }

        y = 1000 * (n2 - n1);
        h = (double) (n2 - n1) / y;
        j = n1;

        while (l < y) {
            l++;
            j = j + h;
            d = d + (sc.con(ss, j) * h);
        }

        display2.setText("" + round(d, xp) + " ");
        history.setText(history.getText() + "\n" + display1.getText() + " = " + display2.getText() + "Intergartion ( " + n1 + "-" + n2 + " )");
    }//GEN-LAST:event_DEFINITEINTEGRATIONActionPerformed

    private void valueofxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_valueofxActionPerformed
        try {
            zx = Double.parseDouble(JOptionPane.showInputDialog(null,"Enter X","Input value of X",2));
        } catch (Exception exception) {
            return;
        }

        this.answer.doClick();
    }//GEN-LAST:event_valueofxActionPerformed

    private void graphActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_graphActionPerformed
        String ss = display1.getText();
        try {
            sc.con(ss);
            history.setText(history.getText() + "\n" + "GRAPH " + " (Y =" + display1.getText() + ")");
            
            //CSV
            double x=-10;
            double form = Double.parseDouble(display1.getText());
            
            
        } catch (Exception exception) {
            this.display2.setText("SYNTEX ERROR");
            return;
        }
        gw.setTitle("Graph = " + display1.getText());
        grafer.s = ss;
        gw.repaint();
        gw.setVisible(true);
    }//GEN-LAST:event_graphActionPerformed

    private void pixelperinchActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_pixelperinchActionPerformed
        try {
            int n = Integer.parseInt(JOptionPane.showInputDialog("Enter n - no of Pixel per unit\n 0<n<2000"));
            if (!(n > 0 && n < 2000)) {
                throw new Exception();
            }
            grafer.k = n;
        } catch (Exception exception) {
            return;
        }
    }//GEN-LAST:event_pixelperinchActionPerformed

    private void centerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_centerActionPerformed
        try {
            grafer.ofx = Double.parseDouble(JOptionPane.showInputDialog("Enter centre point x cordinate"));
            grafer.ofy = Double.parseDouble(JOptionPane.showInputDialog("Enter centre point y cordinate"));

        } catch (Exception exception) {
            return;
        }
    }//GEN-LAST:event_centerActionPerformed

    private void gridstatusActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_gridstatusActionPerformed
        if (this.gridstatus.isSelected()) {
            grafer.p = true;
        } else {
            grafer.p = false;
        }
    }//GEN-LAST:event_gridstatusActionPerformed

    private void loadformulaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_loadformulaActionPerformed
        String userhome = System.getProperty("user.home");
        JFileChooser fc = new JFileChooser(userhome +"\\Desktop");
        FileNameExtensionFilter filter = new FileNameExtensionFilter("TEXT FILES", "txt", "text");
        fc.setFileFilter(filter);
        JFrame frame = new JFrame();
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        int returnVal = fc.showOpenDialog(frame);
        if (returnVal == JFileChooser.APPROVE_OPTION) {
            File file = fc.getSelectedFile();
            try {
                BufferedReader input = new BufferedReader(new InputStreamReader(
                    new FileInputStream(file)));
            display1.read(input, "READING FILE");
        } catch (Exception e) {
            e.printStackTrace();
        }
        } else {
            System.out.println("Operation is CANCELLED");
        }
    }//GEN-LAST:event_loadformulaActionPerformed

    private void saveformulaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_saveformulaActionPerformed
        String saveformula = display1.getText();
        System.out.println(saveformula);

        String fname = (JOptionPane.showInputDialog("Enter Your Formula Name"));

        JFileChooser jfc = new JFileChooser(FileSystemView.getFileSystemView().getHomeDirectory());
        jfc.setDialogTitle("Choose a directory to save your file: ");
        jfc.setFileSelectionMode(JFileChooser.DIRECTORIES_ONLY);
        int returnValue = jfc.showSaveDialog(null);
        if (returnValue == JFileChooser.APPROVE_OPTION) {
            if (jfc.getSelectedFile().isDirectory()) {
                System.out.println("You selected the directory: " + jfc.getSelectedFile());
            }
        }
        try {
            FileWriter fw = new FileWriter(jfc.getSelectedFile() + "\\" + fname + ".txt");
                fw.write(saveformula);
                fw.close();
            } catch (Exception e) {
                System.out.println(e);
            }
            System.out.println("Success...");
    }//GEN-LAST:event_saveformulaActionPerformed

    private void btn1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn1ActionPerformed
        s = s.append("1");
        display1.setText(s.toString());
    }//GEN-LAST:event_btn1ActionPerformed

    private void answerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_answerActionPerformed
        try {

            double d = round(sc.con(this.display1.getText(), zx), xp);
            display2.setText("" + d + " ");

            history.setText(history.getText() + "\n" + display1.getText() + " = " + display2.getText());
            System.out.println(requestFocusInWindow());

        } catch (Exception dd) {
            display2.setText("SYNTEX ERROR");

        }
    }//GEN-LAST:event_answerActionPerformed

    private void btn6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn6ActionPerformed
        s = s.append("6");
        display1.setText(s.toString());
    }//GEN-LAST:event_btn6ActionPerformed

    private void plusActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_plusActionPerformed
        s = s.append("+");
        display1.setText(s.toString());
    }//GEN-LAST:event_plusActionPerformed

    private void btn2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn2ActionPerformed
        s = s.append("2");
        display1.setText(s.toString());
    }//GEN-LAST:event_btn2ActionPerformed

    private void btn7ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn7ActionPerformed
        s = s.append("7");
        display1.setText(s.toString());
    }//GEN-LAST:event_btn7ActionPerformed

    private void clearhistoryActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clearhistoryActionPerformed
        history.setText(null);
    }//GEN-LAST:event_clearhistoryActionPerformed

    private void minusActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_minusActionPerformed
        s = s.append("-");
        display1.setText(s.toString());
    }//GEN-LAST:event_minusActionPerformed

    private void btn9ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn9ActionPerformed
        s = s.append("9");
        display1.setText(s.toString());
    }//GEN-LAST:event_btn9ActionPerformed

    private void divideActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_divideActionPerformed
        s = s.append("/");
        display1.setText(s.toString());
    }//GEN-LAST:event_divideActionPerformed

    private void btn3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn3ActionPerformed
        s = s.append("3");
        display1.setText(s.toString());
    }//GEN-LAST:event_btn3ActionPerformed

    private void btn8ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn8ActionPerformed
        s = s.append("8");
        display1.setText(s.toString());
    }//GEN-LAST:event_btn8ActionPerformed

    private void saveActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_saveActionPerformed
        String formulaname = JOptionPane.showInputDialog(null, "Enter formula name", "Enter your formula name", JOptionPane.INFORMATION_MESSAGE);
        String form = display1.getText();

        if (!formulaMap.containsKey(formulaname)) {
            formulaMap.put(formulaname, form);
            display1.setText(null);

        } else {
            int dialogButton = JOptionPane.YES_NO_OPTION;
            int dialogResult = JOptionPane.showConfirmDialog(null, "Would you like to overwrite the " + formulaname, "Warning", dialogButton);
            if (dialogResult == JOptionPane.YES_OPTION) {
                formulaMap.replace(formulaname, form);
                display1.setText(null);
            }
        }
        //System.out.println(formulaMap.get(formulaname));
    }//GEN-LAST:event_saveActionPerformed

    private void loadActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_loadActionPerformed
        String formulanam = JOptionPane.showInputDialog(null, "Enter the formula name", "Enter your formula name", JOptionPane.INFORMATION_MESSAGE);
        if (formulaMap.get(formulanam) == null) {
            JOptionPane.showMessageDialog(this, "There is no formula named " + formulanam + "!", "Error!", JOptionPane.ERROR_MESSAGE);
        } else {
            display1.setText(formulaMap.get(formulanam));
        }
        //System.out.println(formulaMap.get(formulanam));
    }//GEN-LAST:event_loadActionPerformed

    private void delActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_delActionPerformed
        if (s.length() > 0) {
            s.deleteCharAt(s.length() - 1);
            display1.setText(s.toString());
        }
    }//GEN-LAST:event_delActionPerformed

    private void clrActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clrActionPerformed
        s.delete(0, s.length());
        display1.setText("0");
        display2.setText("");
    }//GEN-LAST:event_clrActionPerformed

    private void stepActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_stepActionPerformed
        try {
            xp = Integer.parseInt(JOptionPane.showInputDialog("Enter no of Digit after decimal point\n(Active from next operation)"));
            answer.doClick();
        } catch (Exception exception) {
            return;
        }
    }//GEN-LAST:event_stepActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        JOptionPane.showMessageDialog(this, "WiCaDi The Scientific Calculator \nProgrammed by © Semicolon;\n\n-Kalana Hettiarachchi\n-Kasun Yapa\n-Anuradha Senanayaka\n-Rashmila Dharmage\n-Uvindu Dharmawardana\n\n", " WiCaDi v1", JOptionPane.INFORMATION_MESSAGE);
    }//GEN-LAST:event_jButton1ActionPerformed

    private void multiplyActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_multiplyActionPerformed
        s = s.append("*");
        display1.setText(s.toString());
    }//GEN-LAST:event_multiplyActionPerformed

    private void btn4ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn4ActionPerformed
        s = s.append("4");
        display1.setText(s.toString());
    }//GEN-LAST:event_btn4ActionPerformed

    private void btn0ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn0ActionPerformed
        s = s.append("0");
        display1.setText(s.toString());
    }//GEN-LAST:event_btn0ActionPerformed

    private void dotActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_dotActionPerformed
        s = s.append(".");
        display1.setText(s.toString());
    }//GEN-LAST:event_dotActionPerformed

    private void agraphActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_agraphActionPerformed
        GraphCalc gc = new GraphCalc();
        try{
            gc.agraphrun();
        }catch(Exception e){
            System.out.println(e);
        }
    }//GEN-LAST:event_agraphActionPerformed

    private void btn5ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btn5ActionPerformed
        s = s.append("5");
        display1.setText(s.toString());
    }//GEN-LAST:event_btn5ActionPerformed

    private void sinActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sinActionPerformed
        s = s.append("Sin");
        display1.setText(s.toString());
    }//GEN-LAST:event_sinActionPerformed

    private void cosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cosActionPerformed
        s = s.append("Sin");
        display1.setText(s.toString());
    }//GEN-LAST:event_cosActionPerformed

    private void tanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_tanActionPerformed
        s = s.append("Tan");
        display1.setText(s.toString());
    }//GEN-LAST:event_tanActionPerformed

    private void absActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_absActionPerformed
        s = s.append("Abs");
        display1.setText(s.toString());
    }//GEN-LAST:event_absActionPerformed

    private void remActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_remActionPerformed
        s = s.append("Rem");
        display1.setText(s.toString());
    }//GEN-LAST:event_remActionPerformed

    private void openbracketActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_openbracketActionPerformed
        s = s.append("(");
        display1.setText(s.toString());
    }//GEN-LAST:event_openbracketActionPerformed

    private void arsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_arsActionPerformed
        s = s.append("Ars");
        display1.setText(s.toString());
    }//GEN-LAST:event_arsActionPerformed

    private void arcActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_arcActionPerformed
        s = s.append("Arc");
        display1.setText(s.toString());
    }//GEN-LAST:event_arcActionPerformed

    private void artActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_artActionPerformed
        s = s.append("Art");
        display1.setText(s.toString());
    }//GEN-LAST:event_artActionPerformed

    private void sigActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sigActionPerformed
        s = s.append("Sig");
        display1.setText(s.toString());
    }//GEN-LAST:event_sigActionPerformed

    private void closebracketActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_closebracketActionPerformed
        s = s.append(")");
        display1.setText(s.toString());
    }//GEN-LAST:event_closebracketActionPerformed

    private void varxActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_varxActionPerformed
        s = s.append("x");
        display1.setText(s.toString());
    }//GEN-LAST:event_varxActionPerformed

    private void piActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_piActionPerformed
        s = s.append("3.1415926535");
        display1.setText(s.toString());
    }//GEN-LAST:event_piActionPerformed

    private void powerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_powerActionPerformed
        s = s.append("^");
        display1.setText(s.toString());
    }//GEN-LAST:event_powerActionPerformed

    private void lnActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_lnActionPerformed
        s = s.append("ln");
        display1.setText(s.toString());
    }//GEN-LAST:event_lnActionPerformed

    private void sqrtActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_sqrtActionPerformed
        s = s.append("√");
        display1.setText("√");
    }//GEN-LAST:event_sqrtActionPerformed

    private void expActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_expActionPerformed
        s = s.append("ep");
        display1.setText(s.toString());
    }//GEN-LAST:event_expActionPerformed

    private void logActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_logActionPerformed
        s = s.append("Log");
        display1.setText(s.toString());
    }//GEN-LAST:event_logActionPerformed

    private void rootsActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_rootsActionPerformed
        boolean p;
        Double a1, a2;
        int i = 0;

        String ss = display1.getText();
        try {
            sc.con(ss);
        } catch (Exception exception) {
            this.display2.setText("SYNTEX ERROR");
            return;
        }
        try {
            a1 = Double.parseDouble(JOptionPane.showInputDialog("Enter Starting point for analysis"));
            a2 = Double.parseDouble(JOptionPane.showInputDialog("Enter Ending point for analysis"));
        } catch (Exception exception) {
            return;
        }

        double x = 0, x1 = 0, y = 0, y1 = 0;
        String u = "";

        while (a1 < a2) {

            x = round(a1, 2);
            y = sc.con(ss, x);

            p = true;
            if (y == 0) {
                u = u + (++i) + " One root at X" + " = " + x + "\n";
                p = false;

            }
            if (p) {
                x1 = round((a1 + 0.01), 2);
                y1 = sc.con(ss, x1);

                if (y * y1 < 0) {
                    u = u + (++i) + " Root in" + " ( " + x + " , " + x1 + " )\n";

                }
            }
            a1 = a1 + 0.01;
        }

        ta.setText(u);
        gw2.setVisible(true);
    }//GEN-LAST:event_rootsActionPerformed

    private void varyActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_varyActionPerformed
        s = s.append("y");
        display1.setText(s.toString());
    }//GEN-LAST:event_varyActionPerformed

    private void varzActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_varzActionPerformed
        s = s.append("z");
        display1.setText(s.toString());
    }//GEN-LAST:event_varzActionPerformed
   
    
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(WiCaDiBeta.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(WiCaDiBeta.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(WiCaDiBeta.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(WiCaDiBeta.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new WiCaDiBeta().setVisible(true);
            }
        });
        
        
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton DEFINITEINTEGRATION;
    private javax.swing.JButton DIFFERENTIATION;
    private javax.swing.JButton INDEFINITEINTEGRATION;
    private javax.swing.JButton abs;
    private javax.swing.JButton agraph;
    private javax.swing.JButton answer;
    private javax.swing.JButton arc;
    private javax.swing.JButton ars;
    private javax.swing.JButton art;
    private javax.swing.JButton btn0;
    private javax.swing.JButton btn1;
    private javax.swing.JButton btn2;
    private javax.swing.JButton btn3;
    private javax.swing.JButton btn4;
    private javax.swing.JButton btn5;
    private javax.swing.JButton btn6;
    private javax.swing.JButton btn7;
    private javax.swing.JButton btn8;
    private javax.swing.JButton btn9;
    private javax.swing.JButton center;
    private javax.swing.JButton clearhistory;
    private javax.swing.JButton closebracket;
    private javax.swing.JButton clr;
    private javax.swing.JButton cos;
    private javax.swing.JButton del;
    private javax.swing.JTextField display1;
    private javax.swing.JTextField display2;
    private javax.swing.JButton divide;
    private javax.swing.JButton dot;
    private javax.swing.JButton exp;
    private javax.swing.JButton graph;
    private javax.swing.JCheckBox gridstatus;
    private javax.swing.JTextArea history;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton6;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JSeparator jSeparator2;
    private javax.swing.JSeparator jSeparator3;
    private javax.swing.JButton ln;
    private javax.swing.JButton load;
    private javax.swing.JButton loadformula;
    private javax.swing.JButton log;
    private javax.swing.JButton minus;
    private javax.swing.JButton multiply;
    private javax.swing.JButton openbracket;
    private javax.swing.JButton pi;
    private javax.swing.JButton pixelperinch;
    private javax.swing.JButton plus;
    private javax.swing.JButton power;
    private javax.swing.JButton rem;
    private javax.swing.JButton roots;
    private javax.swing.JButton save;
    private javax.swing.JButton saveformula;
    private javax.swing.JButton sig;
    private javax.swing.JButton sin;
    private javax.swing.JButton sqrt;
    private javax.swing.JButton step;
    private javax.swing.JButton tan;
    private javax.swing.JButton valueofx;
    private javax.swing.JButton varx;
    private javax.swing.JButton vary;
    private javax.swing.JButton varz;
    // End of variables declaration//GEN-END:variables




}
